{"ast":null,"code":"import React,{useContext,useEffect,useRef,useState}from\"react\";import noteContext from\"../context/noteContext\";import Noteitem from\"./Noteitem\";import Addnote from\"./Addnote\";import{useNavigate}from\"react-router-dom\";import\"../style/Notes.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Notes=()=>{const navigate=useNavigate();const context=useContext(noteContext);const{notes,getNotes,editNote}=context;const[note,setNote]=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"default\"});useEffect(()=>{if(localStorage.getItem('token')){getNotes();}else{navigate('/login');}},[]);const updateNote=currentNote=>{ref.current.click();setNote({id:currentNote._id,etitle:currentNote.title,edescription:currentNote.description,etag:currentNote.tag});};const ref=useRef(null);const refClose=useRef(null);const onClick=e=>{editNote(note.id,note.etitle,note.edescription,note.etag);refClose.current.click();};const onChange=e=>{setNote({...note,[e.target.name]:e.target.value});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Addnote,{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",ref:ref,className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Edit Note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mx-10\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etitle\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etitle\",name:\"etitle\",value:note.etitle,\"aria-describedby\":\"emailHelp\",onChange:onChange,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group \",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edescription\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",value:note.edescription,onChange:onChange,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group \",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etag\",children:\"tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etag\",name:\"etag\",value:note.etag,onChange:onChange})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{ref:refClose,type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{disabled:note.etitle.length<5||note.edescription.length<5,type:\"button\",className:\"btn btn-primary\",onClick:onClick,children:\"Save changes\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row my-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"notesHeader\",children:\"your notes\"}),/*#__PURE__*/_jsx(\"div\",{className:\" mx-3\",children:notes.length===0&&\"No notes to display\"}),notes.map(note=>{return/*#__PURE__*/_jsx(Noteitem,{updateNote:updateNote,note:note},note._id);})]})]});};export default Notes;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","noteContext","Noteitem","Addnote","useNavigate","jsx","_jsx","jsxs","_jsxs","Notes","navigate","context","notes","getNotes","editNote","note","setNote","id","etitle","edescription","etag","localStorage","getItem","updateNote","currentNote","ref","current","click","_id","title","description","tag","refClose","onClick","e","onChange","target","name","value","children","type","className","tabIndex","htmlFor","minLength","required","disabled","length","map"],"sources":["D:/vscode/inotebook/frontend/src/component/Notes.js"],"sourcesContent":["import React, { useContext, useEffect, useRef,useState } from \"react\";\r\nimport noteContext from \"../context/noteContext\";\r\nimport Noteitem from \"./Noteitem\";\r\nimport Addnote from \"./Addnote\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport\"../style/Notes.css\"\r\n\r\nconst Notes = () => {\r\n  const navigate=useNavigate()\r\n  const context = useContext(noteContext);\r\n  const { notes, getNotes,editNote } = context;\r\n  const [note,setNote]=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"default\"})\r\n\r\n  useEffect(() => {\r\n    \r\n    if(localStorage.getItem('token')){\r\n      getNotes();\r\n    }\r\n    else{\r\n      navigate('/login')\r\n    }\r\n    \r\n  }, []);\r\n\r\n  \r\n  const updateNote = (currentNote) => {\r\n    ref.current.click()\r\n \r\n    \r\n    setNote({id:currentNote._id,etitle:currentNote.title,edescription:currentNote.description,etag:currentNote.tag})\r\n  };\r\n\r\n  const ref = useRef(null)\r\n  const refClose = useRef(null)\r\n\r\n  const onClick=(e)=>{\r\n    editNote(note.id,note.etitle,note.edescription,note.etag)\r\n    refClose.current.click()\r\n\r\n}\r\n\r\nconst onChange=(e)=>{\r\n  setNote({...note,[e.target.name]:e.target.value})\r\n}\r\n\r\n  return (\r\n    <div>\r\n      <Addnote />\r\n      <button type=\"button\" ref={ref} className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n        Launch demo modal\r\n      </button>\r\n      <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\"  aria-hidden=\"true\">\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">Edit Note</h5>\r\n              <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n            <form>\r\n                    <div className=\"form-group mx-10\">\r\n                        <label htmlFor=\"etitle\">Title</label>\r\n                        <input type=\"text\" className=\"form-control\" id=\"etitle\" name=\"etitle\" value={note.etitle} aria-describedby=\"emailHelp\" onChange={onChange} minLength={5} required/>\r\n                    </div>\r\n                    <div className=\"form-group \">\r\n                        <label htmlFor=\"edescription\">Description</label>\r\n                        <input type=\"text\" className=\"form-control\" id=\"edescription\" name=\"edescription\" value={note.edescription} onChange={onChange} minLength={5} required/>\r\n                    </div>\r\n                    <div className=\"form-group \">\r\n                        <label htmlFor=\"etag\">tag</label>\r\n                        <input type=\"text\" className=\"form-control\" id=\"etag\" name=\"etag\" value={note.etag} onChange={onChange} />\r\n                    </div>\r\n                   \r\n                </form>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button ref={refClose} type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n              <button disabled={note.etitle.length < 5 || note.edescription.length<5} type=\"button\" className=\"btn btn-primary\" onClick={onClick}>Save changes</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row my-3\">\r\n        <h2 className=\"notesHeader\">your notes</h2>\r\n      \r\n         <div className=\" mx-3\">\r\n          {notes.length===0 && \"No notes to display\"}\r\n         </div>\r\n        \r\n        {notes.map((note) => {\r\n          return (\r\n            <Noteitem key={note._id} updateNote={updateNote} note={note} />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}; \r\n\r\nexport default Notes;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,MAAM,CAACC,QAAQ,KAAQ,OAAO,CACrE,MAAO,CAAAC,WAAW,KAAM,wBAAwB,CAChD,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAM,oBAAoB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAAAC,QAAQ,CAACN,WAAW,CAAC,CAAC,CAC5B,KAAM,CAAAO,OAAO,CAAGd,UAAU,CAACI,WAAW,CAAC,CACvC,KAAM,CAAEW,KAAK,CAAEC,QAAQ,CAACC,QAAS,CAAC,CAAGH,OAAO,CAC5C,KAAM,CAACI,IAAI,CAACC,OAAO,CAAC,CAAChB,QAAQ,CAAC,CAACiB,EAAE,CAAC,EAAE,CAACC,MAAM,CAAC,EAAE,CAACC,YAAY,CAAC,EAAE,CAACC,IAAI,CAAC,SAAS,CAAC,CAAC,CAE/EtB,SAAS,CAAC,IAAM,CAEd,GAAGuB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAC/BT,QAAQ,CAAC,CAAC,CACZ,CAAC,IACG,CACFH,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAEF,CAAC,CAAE,EAAE,CAAC,CAGN,KAAM,CAAAa,UAAU,CAAIC,WAAW,EAAK,CAClCC,GAAG,CAACC,OAAO,CAACC,KAAK,CAAC,CAAC,CAGnBX,OAAO,CAAC,CAACC,EAAE,CAACO,WAAW,CAACI,GAAG,CAACV,MAAM,CAACM,WAAW,CAACK,KAAK,CAACV,YAAY,CAACK,WAAW,CAACM,WAAW,CAACV,IAAI,CAACI,WAAW,CAACO,GAAG,CAAC,CAAC,CAClH,CAAC,CAED,KAAM,CAAAN,GAAG,CAAG1B,MAAM,CAAC,IAAI,CAAC,CACxB,KAAM,CAAAiC,QAAQ,CAAGjC,MAAM,CAAC,IAAI,CAAC,CAE7B,KAAM,CAAAkC,OAAO,CAAEC,CAAC,EAAG,CACjBpB,QAAQ,CAACC,IAAI,CAACE,EAAE,CAACF,IAAI,CAACG,MAAM,CAACH,IAAI,CAACI,YAAY,CAACJ,IAAI,CAACK,IAAI,CAAC,CACzDY,QAAQ,CAACN,OAAO,CAACC,KAAK,CAAC,CAAC,CAE5B,CAAC,CAED,KAAM,CAAAQ,QAAQ,CAAED,CAAC,EAAG,CAClBlB,OAAO,CAAC,CAAC,GAAGD,IAAI,CAAC,CAACmB,CAAC,CAACE,MAAM,CAACC,IAAI,EAAEH,CAAC,CAACE,MAAM,CAACE,KAAK,CAAC,CAAC,CACnD,CAAC,CAEC,mBACE9B,KAAA,QAAA+B,QAAA,eACEjC,IAAA,CAACH,OAAO,GAAE,CAAC,cACXG,IAAA,WAAQkC,IAAI,CAAC,QAAQ,CAACf,GAAG,CAAEA,GAAI,CAACgB,SAAS,CAAC,wBAAwB,CAAC,iBAAe,OAAO,CAAC,iBAAe,eAAe,CAAAF,QAAA,CAAC,mBAEzH,CAAQ,CAAC,cACTjC,IAAA,QAAKmC,SAAS,CAAC,YAAY,CAACxB,EAAE,CAAC,cAAc,CAACyB,QAAQ,CAAC,IAAI,CAAC,kBAAgB,mBAAmB,CAAE,cAAY,MAAM,CAAAH,QAAA,cACjHjC,IAAA,QAAKmC,SAAS,CAAC,cAAc,CAAAF,QAAA,cAC3B/B,KAAA,QAAKiC,SAAS,CAAC,eAAe,CAAAF,QAAA,eAC5B/B,KAAA,QAAKiC,SAAS,CAAC,cAAc,CAAAF,QAAA,eAC3BjC,IAAA,OAAImC,SAAS,CAAC,aAAa,CAACxB,EAAE,CAAC,mBAAmB,CAAAsB,QAAA,CAAC,WAAS,CAAI,CAAC,cACjEjC,IAAA,WAAQkC,IAAI,CAAC,QAAQ,CAACC,SAAS,CAAC,WAAW,CAAC,kBAAgB,OAAO,CAAC,aAAW,OAAO,CAAS,CAAC,EAC7F,CAAC,cACNnC,IAAA,QAAKmC,SAAS,CAAC,YAAY,CAAAF,QAAA,cAC3B/B,KAAA,SAAA+B,QAAA,eACQ/B,KAAA,QAAKiC,SAAS,CAAC,kBAAkB,CAAAF,QAAA,eAC7BjC,IAAA,UAAOqC,OAAO,CAAC,QAAQ,CAAAJ,QAAA,CAAC,OAAK,CAAO,CAAC,cACrCjC,IAAA,UAAOkC,IAAI,CAAC,MAAM,CAACC,SAAS,CAAC,cAAc,CAACxB,EAAE,CAAC,QAAQ,CAACoB,IAAI,CAAC,QAAQ,CAACC,KAAK,CAAEvB,IAAI,CAACG,MAAO,CAAC,mBAAiB,WAAW,CAACiB,QAAQ,CAAEA,QAAS,CAACS,SAAS,CAAE,CAAE,CAACC,QAAQ,MAAC,CAAC,EAClK,CAAC,cACNrC,KAAA,QAAKiC,SAAS,CAAC,aAAa,CAAAF,QAAA,eACxBjC,IAAA,UAAOqC,OAAO,CAAC,cAAc,CAAAJ,QAAA,CAAC,aAAW,CAAO,CAAC,cACjDjC,IAAA,UAAOkC,IAAI,CAAC,MAAM,CAACC,SAAS,CAAC,cAAc,CAACxB,EAAE,CAAC,cAAc,CAACoB,IAAI,CAAC,cAAc,CAACC,KAAK,CAAEvB,IAAI,CAACI,YAAa,CAACgB,QAAQ,CAAEA,QAAS,CAACS,SAAS,CAAE,CAAE,CAACC,QAAQ,MAAC,CAAC,EACvJ,CAAC,cACNrC,KAAA,QAAKiC,SAAS,CAAC,aAAa,CAAAF,QAAA,eACxBjC,IAAA,UAAOqC,OAAO,CAAC,MAAM,CAAAJ,QAAA,CAAC,KAAG,CAAO,CAAC,cACjCjC,IAAA,UAAOkC,IAAI,CAAC,MAAM,CAACC,SAAS,CAAC,cAAc,CAACxB,EAAE,CAAC,MAAM,CAACoB,IAAI,CAAC,MAAM,CAACC,KAAK,CAAEvB,IAAI,CAACK,IAAK,CAACe,QAAQ,CAAEA,QAAS,CAAE,CAAC,EACzG,CAAC,EAEJ,CAAC,CACN,CAAC,cACN3B,KAAA,QAAKiC,SAAS,CAAC,cAAc,CAAAF,QAAA,eAC3BjC,IAAA,WAAQmB,GAAG,CAAEO,QAAS,CAACQ,IAAI,CAAC,QAAQ,CAACC,SAAS,CAAC,mBAAmB,CAAC,kBAAgB,OAAO,CAAAF,QAAA,CAAC,OAAK,CAAQ,CAAC,cACzGjC,IAAA,WAAQwC,QAAQ,CAAE/B,IAAI,CAACG,MAAM,CAAC6B,MAAM,CAAG,CAAC,EAAIhC,IAAI,CAACI,YAAY,CAAC4B,MAAM,CAAC,CAAE,CAACP,IAAI,CAAC,QAAQ,CAACC,SAAS,CAAC,iBAAiB,CAACR,OAAO,CAAEA,OAAQ,CAAAM,QAAA,CAAC,cAAY,CAAQ,CAAC,EACtJ,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,cAEN/B,KAAA,QAAKiC,SAAS,CAAC,UAAU,CAAAF,QAAA,eACvBjC,IAAA,OAAImC,SAAS,CAAC,aAAa,CAAAF,QAAA,CAAC,YAAU,CAAI,CAAC,cAE1CjC,IAAA,QAAKmC,SAAS,CAAC,OAAO,CAAAF,QAAA,CACpB3B,KAAK,CAACmC,MAAM,GAAG,CAAC,EAAI,qBAAqB,CACtC,CAAC,CAENnC,KAAK,CAACoC,GAAG,CAAEjC,IAAI,EAAK,CACnB,mBACET,IAAA,CAACJ,QAAQ,EAAgBqB,UAAU,CAAEA,UAAW,CAACR,IAAI,CAAEA,IAAK,EAA7CA,IAAI,CAACa,GAA0C,CAAC,CAEnE,CAAC,CAAC,EACC,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}